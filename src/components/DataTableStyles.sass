@import "./../constants.sass"

$horizontalScrollHeight: 20px

.compound-table
    display: flex
    flex-direction: column
    height: 100%
    overflow: hidden
    width: 100%
    height: calc(100% - #{$contentHeaderHeight} - #{$contentHeaderMargin} - 1px)

    .compound-table-row-layout
        height: calc(100% - #{$horizontalScrollHeight})
        display: flex
        flex-direction: row

        &.compound-table-horizontal-scroll
            height: $horizontalScrollHeight

            .scroll-horizontal
                overflow-x: auto
                overflow-y: hidden

    .data-table
        border-right: 1px solid $colorDivider
        height: 100%

        &.categories,.summary-table
            display: flex
            flex-direction: column

        &:last-child
            border-right: none

        &.categories
            td:first-child, th:first-child
                justify-content: center
                min-width: 30px
                max-width: 30px

        tr
            &.selected
                td
                    span
                        color: $colorPrimaryText

            &:not(.selected)
                td
                    span
                        color: $colorDisabled

    .summary-table
        display: flex
        flex-direction: column

        td:last-child, th:last-child
            span
                padding-right: 20px

        td, th
            min-width: 130px

    .scroll-horizontal
        display: flex
        flex-direction: column
        flex: 1
        border-right: 1px solid $colorDivider
        overflow: hidden
        height: 100%

        .data-table
            height: 100%
            width: 100%

            td:last-child, th:last-child
                span
                    padding-right: 20px

.data-table
    box-sizing: border-box
    border-collapse: collapse
    height: calc(100% - #{$contentHeaderHeight} - #{$contentHeaderMargin} - 1px)
    overflow: hidden
    width: 100%

    &.scroll-disabled
        tbody
            overflow: hidden

    &.align-left
        td, th
            justify-content: flex-start

    &.align-right
        td, th
            justify-content: flex-end

    &.align-first-column-left
        td:first-child, th:first-child
            justify-content: flex-start

    thead, tbody, tfoot
        display: block
        width: 100%

    tr
        display: flex
        flex-direction: row

        td, th
            color: $colorSecondaryText
            height: 40px
            display: flex
            flex-direction: row
            align-items: center
            flex: 1
            min-width: 170px
            padding: 0
            width: 100%

            span
                border: 1px solid transparent
                display: inline-block
                padding: 0
                overflow: hidden
                text-overflow: ellipsis
                white-space: nowrap

                &.clickable
                    color: $colorPrimaryText
                    cursor: pointer
                    transition: color 0.5s

                    &:hover
                        color: $colorPrimary

        td
            color: $colorPrimaryText

            .clickable
                background-color: transparent
                border-radius: $borderRadius
                font-weight: 700

            .input-field
                border: 1px solid $colorDivider
                border-radius: $borderRadius
                font-family: inherit
                font-size: inherit
                margin: 0
                padding: 0.25em
                text-align: inherit
                width: calc(100% - 1em)

                input
                    border: none
                    font-family: inherit
                    font-size: inherit
                    padding: 0
                    text-align: inherit

                &.input-number
                    text-align: right

                &.input-date
                    align-items: center
                    display: flex
                    flex-direction: row
                    justify-content: space-between
                    max-width: 200px;

                    input
                        height: 1em
                        width: 100%

                    button
                        background-color: $colorPrimaryDark
                        border: none
                        border-radius: $borderRadius
                        color: $colorAccentLight
                        cursor: pointer
                        display: inline-block
                        margin: -0.25em 0
                        padding: 0.25em
                        text-align: center
                        transition: background-color 0.5s
                        width: 2em

                        &:hover
                            background-color: $colorPrimary

        th
            text-transform: uppercase
            padding: 0

        &:nth-child(even)
            td
                background-color: rgba(0, 0, 0, 0.05)

    thead
        tr
            th
                &.sorted-asc
                    &:after
                        content: " \2191"

                &.sorted-desc
                    &:after
                        content: " \2193"

    tbody
        max-height: 100%
        overflow-x: hidden
        overflow-y: auto
        border-bottom: 1px solid $colorDivider
        border-top: 1px solid $colorDivider

    tfoot
        tr
            th
                font-size: 0.75em
                font-weight: 400
                height: 20px
                text-transform: none

            &:first-child
                th
                    font-size: 1em
                    font-weight: 700
                    padding-top: 10px
                    text-transform: uppercase

            &:last-child
                th
                    font-weight: 700
                    padding-bottom: 10px
